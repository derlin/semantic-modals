<h1>semanticModal service demo</h1>

<script type="text/ng-template" id="example-content.html">
    <p><emph>Options:</emph></p>
    <div highlight watch="options"></div>
    <div class="align-right">
        <button class="ui right  button inverted pink" ng-click="try()">Try</button>
    </div>
    <!--<p class="output" ng-show="result" highlight watch="result"></p>-->
    <div style="margin-top: 10px" ng-show="result">
        <emph>Output:</emph>
        <p class="output" highlight watch="result"></p>
    </div>
</script>


Here are some examples, with the options and the result. All pre use the
function call <code>ModalService.showModal(options);</code>.

<h4 class="ui horizontal divider header">
    <i class="arrow circle outline down
 icon"></i>
    Interactive demo
</h4>

<!--free-->
<div class="ui raised segments">
    <div class="ui segment">
        <div class="ui top attached label">choose your options</div>
        <form class="ui form">
            <div class="two fields">
                <div class="field">
                    <label>Title</label>
                    <input type="text" ng-model="ctrl.freeOpts.title">
                </div>
                <div class="field">
                    <label>Icon</label>
                    <input type="text" ng-model="ctrl.freeOpts.icon">
                </div>
            </div>
            <div class="two fields">
                <div class="field" ng-show="!ctrl.content.isHtml">
                    <label>Text</label>
                    <textarea rows="2" ng-model="ctrl.content.text"></textarea>
                </div>
                <div class="field" ng-show="ctrl.content.isHtml">
                    <label>Html</label>
                    <textarea rows="2" ng-model="ctrl.content.html"></textarea>
                </div>
                <div class="field">
                    <label>&nbsp;</label>
                    <div class="ui toggle checkbox">
                        <input type="checkbox" tabindex="0" ng-model="ctrl.content.isHtml">
                        <label>html</label>
                    </div>
                </div>
            </div>

            <div class="fields">
                <div class="field">
                    <label>Positive</label>
                    <input type="text" ng-model="ctrl.freeOpts.positive">
                </div>
                <div class="field">
                    <label>Negative</label>
                    <input type="text" ng-model="ctrl.freeOpts.negative">
                </div>

                <div class="field">
                    <label>&nbsp;</label>
                    <div class="ui checkbox">
                        <input type="checkbox" tabindex="0" ng-model="ctrl.freeOpts.basic">
                        <label>basic style</label>
                    </div>
                </div>
                <div class="field">
                    <label>&nbsp;</label>
                    <div class="ui checkbox">
                        <input type="checkbox" tabindex="0" ng-model="ctrl.freeOpts.cancelable">
                        <label>cancelable</label>
                    </div>
                </div>
            </div>

        </form>
        <p>
        <div highlight watch="ctrl.freeOpts"></div>
        </p>

        <div class="align-right">
            <button class="ui right  button inverted pink" ng-click="ctrl.freeModal()">Try</button>
        </div>
        <div class="output" ng-show="freeModalOutput">{{freeModalOutput | stringify}}</div>

    </div>
</div>


<h4 class="ui horizontal divider header">
    <i class="arrow circle outline down icon"></i>
    other examples
</h4>


<!--closeable-->
<p>A <strong>closable</strong> confirm modal.</p>

<div modal-example options="{
    title: 'confirm',
    text: 'are you sure ?',
    positive: 'yep',
    negative: 'cancel',
    cancelable: true
}"></div>

<!--icon-->
<div class="ui divider"></div>
<p>A confirm modal with <strong>html content</strong>, basic style and semantic icon.</p>

<div modal-example options="{
    title: 'Confirm deletion',
    html: '&lt;p&gt;are you absolutely sure ?&lt;/p&gt;&lt;p&gt;You cannot undo this action.&lt;/p&gt;',
    positive: 'proceed',
    negative: 'cancel',
    icon    : 'warning sign orange',
    basic   : true,
}"></div>

<!--bindings-->
<div class="ui divider"></div>
<p>A basic modal with <strong>angular bindings</strong>, non cancelable.</p>

<div modal-example options='{
    title: "Confirm",
    html: "are you sure you want to delete {{inputs.sensor.name}} (id={{inputs.sensor.id}}) ?",
    positive: "yes",
    basic: true,
    inputs     : {
        sensor: {id: 3, name: "sensor-XXXX"}
    },
    cancelable : false
}'></div>

<!--html include-->
<div class="ui divider"></div>

<p>A modal using a <strong>custom html content</strong>. Internally, semanticModal uses the
    <code>ng-include</code>
    directive. The <code>partial/editModal_content.html</code> file contains a basic html form.
<div modal-example options='{
    title: "html include",
    htmlInclude: "partial/editModal_content.html",
    inputs: {name: "some name", description: "a description", hidden: "hidden"},
    positive: "do it!",
    cancelable : false
}'></div>


<!--modale template-->
<div class="ui divider"></div>

<h3>Home-made modals</h3>

Semantic-modals lets you create your own modal from scratch using the <code>templateId</code> and
<code>templateUrl</code> options. <br>
You can access and manipulate what is defined in the <code>inputs</code> option through the
<code>ctrl.inputs</code> variable.

One important rule, though: if you use a template, it is
<emph>your responsibility</emph>
to call the <code>close</code>
method available in the modal scope. It means that in your template's buttons,
you need to have an attribute like <code>ng-click="close(true)"</code>. Without a call to <code>close</code>,
the success callback will indeed never be called.

Here is an example of buttons:

<pre ng-non-bindable><code data-language="html">
&lt;div class=&quot;ui black deny button&quot; ng-click=&quot;close(false)&quot;&gt;Cancel&lt;/div&gt;
&lt;div class=&quot;ui positive right button&quot; ng-click=&quot;close(true)&quot;&gt;Save&lt;/div&gt;
</code></pre>

To make a template available, you have three options:

<ol>
    <li>define a template somewhere in your page using the syntax:
        <pre ng-non-bindable><code data-language="html">&lt;script type=&quot;ng-template&quot; id=&quot;mytemplate.html&quot;&gt;
...
&lt;/script&gt;</code></pre>
        </pre>In this case, you only need to use the <code>templateId: "mytemplate.html"</code> property.
    </li>
    <li>define a template in a specific file that is not included in the page, using its filepath as a
        template id. In this case, only the <code>templateId: "mytemplate.html"</code> is needed. The
        library will automatically make the html request for you and load the template from the server.
    </li>
    <li>in case you have many templates, you can choose to put all your template definitions into one
        file. In this case, the filepath and the template ids will be different (logical, right?). In this
        context, you need to define both the <code>templateId</code> and <code>templateUrl</code>
        attributes.
    </li>
</ol>

<div class="ui divider"></div>

<p> A custom template defined on this page (have a look at the source code if you don't believe me):</p>

<div modal-example options='{
    templateId: "inlineModalTemplate.html",
    cancelable : false
}'></div>


<!-- template -->
<script type='text/ng-template' id='inlineModalTemplate.html'>
    <div class='ui basic modal'>
        <div class='ui icon header'>
            <i class='trash icon'></i>
            Confirm deletion
        </div>
        <div class='content'>
            <p>Are you sure you wish to delete this project ? This cannot be undone</p>
        </div>
        <div class='actions'>
            <div class='ui red basic cancel inverted button' ng-click='close(false)'><i class="remove icon"></i> Cancel</div>
            <div class='ui green approve inverted button' ng-click='close(true)'><i class="checkmark icon"></i> OK</div>
        </div>
    </div>
</script>

<div class="ui divider"></div>

<p>A modal template loaded from a file. The filepath is equal to the template id.</p>

<div modal-example options='{
    templateId: "partial/confirmModal.html",
    cancelable : false
}'></div>

<div class="ui divider"></div>

<p>A modal template loaded from a file with a different filepath than the template id.</p>
<div modal-example options='{
    templateId: "example",
    templateUrl: "partial/templates.html",
    cancelable : true
}'></div>
